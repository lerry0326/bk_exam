{"version":3,"sources":["webpack:///src/pages/task_page/AddHost.vue","webpack:///./src/pages/task_page/AddHost.vue?6e1f","webpack:///./src/pages/task_page/AddHost.vue"],"names":["AddHost","data","form","business","cluster","host","biz_options","set_options","host_options","activeName","created","this","getBiz","getSet","methods","handleClick","tab","event","console","log","addHost","$api","then","res","_this","Adata","get_set_by_biz","biz_id","apiparam","_this2","params","assign_default","get_host_by_set","getHost","set_id","apiparams","_this3","task_page_AddHost","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","label-width","label","placeholder","on","change","$event","value","callback","$$v","$set","expression","_l","item","key","bk_biz_id","bk_biz_name","_v","bk_set_id","bk_set_name","bk_host_id","bk_host_innerip","type","click","tab-click","name","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"assets/js/4.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"业务\">\r\n                <el-select v-model=\"form.business\" @change=\"get_set_by_biz()\" placeholder=\"请选择业务\">\r\n                <el-option v-for=\"item in biz_options\" :key=\"item.bk_biz_id\" :label=\"item.bk_biz_name\" :value=\"item.bk_biz_id\"></el-option>\r\n                <!-- <el-option label=\"嘉为蓝鲸\" value=\"嘉为蓝鲸\"></el-option> -->\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"集群\">\r\n                <el-select v-model=\"form.cluster\" @change='get_host_by_set()' placeholder=\"请选择集群\">\r\n                <el-option v-for=\"item in set_options\" :key=\"item.bk_set_id\" :label=\"item.bk_set_name\" :value=\"item.bk_set_id\"></el-option>\r\n                <!-- <el-option label=\"配置平台\" value=\"配置平台\"></el-option> -->\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"主机\">\r\n                <el-select v-model=\"form.host\" placeholder=\"请选择主机\">\r\n                <el-option v-for=\"item in host_options\" :key=\"item.bk_host_id\" :label=\"item.bk_host_innerip\" :value=\"item.bk_host_id\"></el-option>\r\n                <!-- <el-option label=\"192.168.0.2\" value=\"192.168.0.2\"></el-option> -->\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"addHost\">立即创建</el-button>\r\n                <el-button>取消</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"用户管理\" name=\"first\">用户管理</el-tab-pane>\r\n            <el-tab-pane label=\"配置管理\" name=\"second\">配置管理</el-tab-pane>\r\n            <el-tab-pane label=\"角色管理\" name=\"third\">角色管理</el-tab-pane>\r\n            <el-tab-pane label=\"定时任务补偿\" name=\"fourth\">定时任务补偿</el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {\r\n          business: [],\r\n          cluster: '',\r\n          host: ''\r\n        },\r\n        biz_options: [],\r\n        set_options: [],\r\n        host_options: [],\r\n        activeName: 'first'\r\n      }\r\n    },\r\n    created() {\r\n        this.getBiz()\r\n        this.getSet()\r\n    },\r\n    methods: {\r\n        handleClick(tab, event) {\r\n            console.log(tab, event)\r\n        },\r\n        addHost() {\r\n            let params = {\r\n                business: this.form.business,\r\n                cluster: this.form.cluster,\r\n                host: this.form.host\r\n            }\r\n          this.$api.addHost().then(res => {\r\n                console.log(res)\r\n            })\r\n        },\r\n        getBiz() {\r\n            let params = {}\r\n            this.$api.getBiz().then(res => {\r\n                let Adata = res.data\r\n                // for(let i = 0; i < Adata.length; i++) {\r\n                //     console.log(3333333333, Adata[i])\r\n                //     this.biz_options.push(Adata[i].bk_biz_name)\r\n                // }\r\n                this.biz_options = Adata\r\n            })\r\n        },\r\n        // change() {\r\n        //     this.getSet()\r\n        // },\r\n        get_set_by_biz() {\r\n            this.getSet({biz_id: this.form.business})\r\n        },\r\n        getSet(apiparam) {\r\n            let params = {}\r\n            params = Object.assign(params, apiparam)\r\n            this.$api.getSet(params).then(res => {\r\n                this.set_options = res.data\r\n            })\r\n            // this.$store.dispatch('task/getSet', params).then(res => {\r\n                // this.set_options = res.data\r\n            // })\r\n        },\r\n        get_host_by_set() {\r\n            this.getHost({biz_id: this.form.business, set_id: this.form.cluster})\r\n        },\r\n        getHost(apiparams) {\r\n            let params = {}\r\n            params = Object.assign(params, apiparams)\r\n            this.$api.getHost(params).then(res => {\r\n                this.host_options = res.data\r\n            })\r\n        }\r\n    }\r\n  }\r\n</script>\r\n<style lang='scss'>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/task_page/AddHost.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"业务\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择业务\"},on:{\"change\":function($event){_vm.get_set_by_biz()}},model:{value:(_vm.form.business),callback:function ($$v) {_vm.$set(_vm.form, \"business\", $$v)},expression:\"form.business\"}},_vm._l((_vm.biz_options),function(item){return _c('el-option',{key:item.bk_biz_id,attrs:{\"label\":item.bk_biz_name,\"value\":item.bk_biz_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"集群\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择集群\"},on:{\"change\":function($event){_vm.get_host_by_set()}},model:{value:(_vm.form.cluster),callback:function ($$v) {_vm.$set(_vm.form, \"cluster\", $$v)},expression:\"form.cluster\"}},_vm._l((_vm.set_options),function(item){return _c('el-option',{key:item.bk_set_id,attrs:{\"label\":item.bk_set_name,\"value\":item.bk_set_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主机\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择主机\"},model:{value:(_vm.form.host),callback:function ($$v) {_vm.$set(_vm.form, \"host\", $$v)},expression:\"form.host\"}},_vm._l((_vm.host_options),function(item){return _c('el-option',{key:item.bk_host_id,attrs:{\"label\":item.bk_host_innerip,\"value\":item.bk_host_id}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addHost}},[_vm._v(\"立即创建\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"用户管理\",\"name\":\"first\"}},[_vm._v(\"用户管理\")]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"配置管理\",\"name\":\"second\"}},[_vm._v(\"配置管理\")]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"角色管理\",\"name\":\"third\"}},[_vm._v(\"角色管理\")]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"定时任务补偿\",\"name\":\"fourth\"}},[_vm._v(\"定时任务补偿\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d5525144\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/task_page/AddHost.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d5525144\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddHost.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddHost.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddHost.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d5525144\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddHost.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/task_page/AddHost.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}