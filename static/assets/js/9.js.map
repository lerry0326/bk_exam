{"version":3,"sources":["webpack:///src/pages/task_page/BizHost.vue","webpack:///./src/pages/task_page/BizHost.vue?67d6","webpack:///./src/pages/task_page/BizHost.vue"],"names":["BizHost","data","form","business","host","biz_options","tableData","bk_mem","is_show","is_display","created","this","getBiz","get_host_by_biz","methods","_this","$api","then","res","getHost","biz_id","apiparam","_this2","params","assign_default","i","length","console","log","search_perf","row","add_mon","_this3","$alert","confirmButtonText","callback","action","cancel_mon","_this4","task_page_BizHost","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","label-width","label","placeholder","on","change","$event","value","$$v","$set","expression","_l","item","key","bk_biz_id","bk_biz_name","_v","type","staticClass","staticStyle","width","stripe","prop","fixed","scopedSlots","_u","fn","scope","status","size","click","send_apply_task","_e","approve_apply","modify","delete_apply_task","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"assets/js/9.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"业务\">\r\n                <el-select v-model=\"form.business\" @change=\"get_host_by_biz()\" placeholder=\"请选择业务\">\r\n                <el-option v-for=\"item in biz_options\" :key=\"item.bk_biz_id\" :label=\"item.bk_biz_name\" :value=\"item.bk_biz_id\"></el-option>\r\n                <!-- <el-option label=\"嘉为蓝鲸\" value=\"嘉为蓝鲸\"></el-option> -->\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"主机\">\r\n                <el-input type=\"textarea\" v-model=\"form.host\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div class=\"table\">\r\n            <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n                <el-table-column prop=\"bk_host_innerip\" label=\"内网IP\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"bk_os_name\" label=\"系统名\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"bk_host_name\" label=\"主机名\"></el-table-column>\r\n                <el-table-column prop=\"\" label=\"云区域\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"bk_mem\" label=\"Mem(%)\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"bk_disk\" label=\"Disk(%)\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"bk_cpu\" label=\"CPU(%)\" width=\"180\"></el-table-column>\r\n                <el-table-column\r\n                        fixed=\"right\"\r\n                        label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button v-if=\"scope.row.status==1\" @click=\"send_apply_task(scope.row)\" type=\"text\"\r\n                                   size=\"small\">发起\r\n                        </el-button>\r\n                        <el-button @click=\"approve_apply(scope.row)\" v-if=\"scope.row.status==2\" type=\"text\"\r\n                                   size=\"small\">审批\r\n                        </el-button>\r\n                        <el-button @click=\"search_perf(scope.row)\" type=\"text\" size=\"small\">查询性能</el-button>\r\n                        <el-button v-if=\"is_show\" @click=\"add_mon(scope.row)\" type=\"text\" size=\"small\">加入监控</el-button>\r\n                        <el-button v-if=\"is_display\" @click=\"cancel_mon(scope.row)\" type=\"text\" size=\"small\">取消监控</el-button>\r\n                        <el-button @click=\"modify(scope.row)\" v-if=\"scope.row.status==1\" type=\"text\"\r\n                                   size=\"small\">编辑\r\n                        </el-button>\r\n                        <el-button @click=\"delete_apply_task(scope.row)\" type=\"text\" size=\"small\"\r\n                                   v-if=\"scope.row.status==1\">\r\n                            删除\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: {\r\n                business: [],\r\n                host: []\r\n            },\r\n            biz_options: [],\r\n            tableData: [],\r\n            bk_mem: '',\r\n            is_show: true,\r\n            is_display: false\r\n        }\r\n    },\r\n    created() {\r\n        this.getBiz()\r\n        this.get_host_by_biz()\r\n        // this.is_show = false\r\n    },\r\n    methods: {\r\n        getBiz() {\r\n            let patams = {}\r\n            this.$api.getBiz().then(res => {\r\n                this.biz_options = res.data\r\n            })\r\n        },\r\n        get_host_by_biz() {\r\n            this.getHost({\r\n                biz_id: this.form.business\r\n            })\r\n        },\r\n        getHost(apiparam) {\r\n            let params = {}\r\n            params = Object.assign(params, apiparam)\r\n            this.$api.getHost(params).then(res => {\r\n                for(let i = 0; i < res.data.length; i++) {\r\n                    // this.form.host.push(res.data[i])\r\n                    // this.form.host.push('\\r\\n')\r\n                    this.tableData = res.data\r\n                    console.log(11111111111, this.tableData)\r\n                }\r\n            })\r\n        },\r\n        search_perf(row) {\r\n            console.log(22222, row)\r\n            this.bk_mem = row.bk_mem\r\n            // this.is_show = !this.is_show\r\n            // if(this.is_show) {\r\n            //     this.is_show = false\r\n            // }else{\r\n            //     this.is_show = true\r\n            // }\r\n        },\r\n        add_mon(row) {\r\n            this.$alert('确定加入监控队列', '标题名称', {\r\n          confirmButtonText: 'OK',\r\n          callback: action => {\r\n            this.is_show = false;\r\n            this.is_display = true\r\n          }\r\n        })\r\n        },\r\n        cancel_mon(row) {\r\n            this.$alert('确定取消监控队列', '标题名称', {\r\n          confirmButtonText: 'OK',\r\n          callback: action => {\r\n            this.is_show = true;\r\n            this.is_display = false\r\n          }\r\n        })\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"sass\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/task_page/BizHost.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"业务\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择业务\"},on:{\"change\":function($event){_vm.get_host_by_biz()}},model:{value:(_vm.form.business),callback:function ($$v) {_vm.$set(_vm.form, \"business\", $$v)},expression:\"form.business\"}},_vm._l((_vm.biz_options),function(item){return _c('el-option',{key:item.bk_biz_id,attrs:{\"label\":item.bk_biz_name,\"value\":item.bk_biz_id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主机\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.host),callback:function ($$v) {_vm.$set(_vm.form, \"host\", $$v)},expression:\"form.host\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"bk_host_innerip\",\"label\":\"内网IP\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bk_os_name\",\"label\":\"系统名\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bk_host_name\",\"label\":\"主机名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"云区域\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bk_mem\",\"label\":\"Mem(%)\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bk_disk\",\"label\":\"Disk(%)\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bk_cpu\",\"label\":\"CPU(%)\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.send_apply_task(scope.row)}}},[_vm._v(\"发起\\n                    \")]):_vm._e(),_vm._v(\" \"),(scope.row.status==2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.approve_apply(scope.row)}}},[_vm._v(\"审批\\n                    \")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.search_perf(scope.row)}}},[_vm._v(\"查询性能\")]),_vm._v(\" \"),(_vm.is_show)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.add_mon(scope.row)}}},[_vm._v(\"加入监控\")]):_vm._e(),_vm._v(\" \"),(_vm.is_display)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.cancel_mon(scope.row)}}},[_vm._v(\"取消监控\")]):_vm._e(),_vm._v(\" \"),(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.modify(scope.row)}}},[_vm._v(\"编辑\\n                    \")]):_vm._e(),_vm._v(\" \"),(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.delete_apply_task(scope.row)}}},[_vm._v(\"\\n                        删除\\n                    \")]):_vm._e()]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6290a3d3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/task_page/BizHost.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6290a3d3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BizHost.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BizHost.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BizHost.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6290a3d3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BizHost.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/task_page/BizHost.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}